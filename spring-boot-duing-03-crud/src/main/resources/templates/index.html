<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<!-- 必须的 meta 标签 -->
	<meta charset="utf-8">

	<link rel="stylesheet" th:href="@{/bootstrap.css}">
	<script type="text/javascript" th:src="@{/webjars/jquery/3.4.1/jquery.js}"></script>

	<title>Hello, world!</title>
	<style type="text/css">
		/*a{*/
		/*	display: block;*/
		/*	width: 40px;*/
		/*	height: 29px;*/
		/*	background-color: #1b6d85;*/
		/*	color: #cccccc;*/
		/*	border-radius: 10px;*/
		/*}*/
	</style>

</head>

<body>





<h2>中餐厅嘉宾如下</h2>
<table class="table table-hover">
	<thead>
	<tr>
		<th scope="col">姓名</th>
		<th scope="col">角色</th>
	</tr>
	</thead>
	<tbody>
	<tr th:each="guest:${guestList}">
		<td th:text="${guest.name}">name</td>
		<td th:text="${guest.role}">role</td>
		<td class="col-sm-2">
			<a href="/guest/toUpdate" th:href="@{/guest/toUpdate/}+${guest.name}" class="btn btn-info">修改</a>
		</td>
		<td class="col-sm-2">
			<button th:attr="del_url=@{/guest/}+${guest.name}" name="del_button" class="btn btn-info">删除</button>
<!--			<a href="/guest/toDelete" th:href="@{/guest/delete(name=${guest.name})}" >删除</a>-->
		</td>
	</tr>
	</tbody>
</table>
<div class="form-group">
	<div class="col-sm-2 control-label">
		<a href="/guest/toAdd" th:href="@{/guest/toAdd}"
		   class="btn btn-info">添加</a>
	</div>
</div>

<form method="post" id="del_form">
	<input type="hidden" name="_method" value="delete">
</form>
<script>
    $(function () {
        $("button[name='del_button']").click(function () {
            $("#del_form").prop("action",$(this).attr("del_url")).submit();
        });
    });
</script>


</body>
